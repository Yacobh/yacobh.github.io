{
"version":3,
"file":"module$node_modules$$supabase$auth_js$dist$main$lib$helpers.js",
"lineCount":230,
"mappings":"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",
"sources":["node_modules/@supabase/auth-js/dist/main/lib/helpers.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$supabase$auth_js$dist$main$lib$helpers\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUUID = exports.getAlgorithm = exports.validateExp = exports.parseResponseAPIVersion = exports.getCodeChallengeAndMethod = exports.generatePKCEChallenge = exports.generatePKCEVerifier = exports.retryable = exports.sleep = exports.decodeJWT = exports.Deferred = exports.removeItemAsync = exports.getItemAsync = exports.setItemAsync = exports.looksLikeFetchResponse = exports.resolveFetch = exports.parseParametersFromURL = exports.supportsLocalStorage = exports.isBrowser = exports.uuid = exports.expiresAt = void 0;\nconst constants_1 = require(\"./constants\");\nconst errors_1 = require(\"./errors\");\nconst base64url_1 = require(\"./base64url\");\nfunction expiresAt(expiresIn) {\n    const timeNow = Math.round(Date.now() / 1000);\n    return timeNow + expiresIn;\n}\nexports.expiresAt = expiresAt;\nfunction uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        const r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\nexports.uuid = uuid;\nconst isBrowser = () => typeof window !== 'undefined' && typeof document !== 'undefined';\nexports.isBrowser = isBrowser;\nconst localStorageWriteTests = {\n    tested: false,\n    writable: false,\n};\n/**\n * Checks whether localStorage is supported on this browser.\n */\nconst supportsLocalStorage = () => {\n    if (!(0, exports.isBrowser)()) {\n        return false;\n    }\n    try {\n        if (typeof globalThis.localStorage !== 'object') {\n            return false;\n        }\n    }\n    catch (e) {\n        // DOM exception when accessing `localStorage`\n        return false;\n    }\n    if (localStorageWriteTests.tested) {\n        return localStorageWriteTests.writable;\n    }\n    const randomKey = `lswt-${Math.random()}${Math.random()}`;\n    try {\n        globalThis.localStorage.setItem(randomKey, randomKey);\n        globalThis.localStorage.removeItem(randomKey);\n        localStorageWriteTests.tested = true;\n        localStorageWriteTests.writable = true;\n    }\n    catch (e) {\n        // localStorage can't be written to\n        // https://www.chromium.org/for-testers/bug-reporting-guidelines/uncaught-securityerror-failed-to-read-the-localstorage-property-from-window-access-is-denied-for-this-document\n        localStorageWriteTests.tested = true;\n        localStorageWriteTests.writable = false;\n    }\n    return localStorageWriteTests.writable;\n};\nexports.supportsLocalStorage = supportsLocalStorage;\n/**\n * Extracts parameters encoded in the URL both in the query and fragment.\n */\nfunction parseParametersFromURL(href) {\n    const result = {};\n    const url = new URL(href);\n    if (url.hash && url.hash[0] === '#') {\n        try {\n            const hashSearchParams = new URLSearchParams(url.hash.substring(1));\n            hashSearchParams.forEach((value, key) => {\n                result[key] = value;\n            });\n        }\n        catch (e) {\n            // hash is not a query string\n        }\n    }\n    // search parameters take precedence over hash parameters\n    url.searchParams.forEach((value, key) => {\n        result[key] = value;\n    });\n    return result;\n}\nexports.parseParametersFromURL = parseParametersFromURL;\nconst resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => Promise.resolve().then(() => __importStar(require('@supabase/node-fetch'))).then(({ default: fetch }) => fetch(...args));\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\nexports.resolveFetch = resolveFetch;\nconst looksLikeFetchResponse = (maybeResponse) => {\n    return (typeof maybeResponse === 'object' &&\n        maybeResponse !== null &&\n        'status' in maybeResponse &&\n        'ok' in maybeResponse &&\n        'json' in maybeResponse &&\n        typeof maybeResponse.json === 'function');\n};\nexports.looksLikeFetchResponse = looksLikeFetchResponse;\n// Storage helpers\nconst setItemAsync = async (storage, key, data) => {\n    await storage.setItem(key, JSON.stringify(data));\n};\nexports.setItemAsync = setItemAsync;\nconst getItemAsync = async (storage, key) => {\n    const value = await storage.getItem(key);\n    if (!value) {\n        return null;\n    }\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n};\nexports.getItemAsync = getItemAsync;\nconst removeItemAsync = async (storage, key) => {\n    await storage.removeItem(key);\n};\nexports.removeItemAsync = removeItemAsync;\n/**\n * A deferred represents some asynchronous work that is not yet finished, which\n * may or may not culminate in a value.\n * Taken from: https://github.com/mike-north/types/blob/master/src/async.ts\n */\nclass Deferred {\n    constructor() {\n        // eslint-disable-next-line @typescript-eslint/no-extra-semi\n        ;\n        this.promise = new Deferred.promiseConstructor((res, rej) => {\n            // eslint-disable-next-line @typescript-eslint/no-extra-semi\n            ;\n            this.resolve = res;\n            this.reject = rej;\n        });\n    }\n}\nexports.Deferred = Deferred;\nDeferred.promiseConstructor = Promise;\nfunction decodeJWT(token) {\n    const parts = token.split('.');\n    if (parts.length !== 3) {\n        throw new errors_1.AuthInvalidJwtError('Invalid JWT structure');\n    }\n    // Regex checks for base64url format\n    for (let i = 0; i < parts.length; i++) {\n        if (!constants_1.BASE64URL_REGEX.test(parts[i])) {\n            throw new errors_1.AuthInvalidJwtError('JWT not in base64url format');\n        }\n    }\n    const data = {\n        // using base64url lib\n        header: JSON.parse((0, base64url_1.stringFromBase64URL)(parts[0])),\n        payload: JSON.parse((0, base64url_1.stringFromBase64URL)(parts[1])),\n        signature: (0, base64url_1.base64UrlToUint8Array)(parts[2]),\n        raw: {\n            header: parts[0],\n            payload: parts[1],\n        },\n    };\n    return data;\n}\nexports.decodeJWT = decodeJWT;\n/**\n * Creates a promise that resolves to null after some time.\n */\nasync function sleep(time) {\n    return await new Promise((accept) => {\n        setTimeout(() => accept(null), time);\n    });\n}\nexports.sleep = sleep;\n/**\n * Converts the provided async function into a retryable function. Each result\n * or thrown error is sent to the isRetryable function which should return true\n * if the function should run again.\n */\nfunction retryable(fn, isRetryable) {\n    const promise = new Promise((accept, reject) => {\n        // eslint-disable-next-line @typescript-eslint/no-extra-semi\n        ;\n        (async () => {\n            for (let attempt = 0; attempt < Infinity; attempt++) {\n                try {\n                    const result = await fn(attempt);\n                    if (!isRetryable(attempt, null, result)) {\n                        accept(result);\n                        return;\n                    }\n                }\n                catch (e) {\n                    if (!isRetryable(attempt, e)) {\n                        reject(e);\n                        return;\n                    }\n                }\n            }\n        })();\n    });\n    return promise;\n}\nexports.retryable = retryable;\nfunction dec2hex(dec) {\n    return ('0' + dec.toString(16)).substr(-2);\n}\n// Functions below taken from: https://stackoverflow.com/questions/63309409/creating-a-code-verifier-and-challenge-for-pkce-auth-on-spotify-api-in-reactjs\nfunction generatePKCEVerifier() {\n    const verifierLength = 56;\n    const array = new Uint32Array(verifierLength);\n    if (typeof crypto === 'undefined') {\n        const charSet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~';\n        const charSetLen = charSet.length;\n        let verifier = '';\n        for (let i = 0; i < verifierLength; i++) {\n            verifier += charSet.charAt(Math.floor(Math.random() * charSetLen));\n        }\n        return verifier;\n    }\n    crypto.getRandomValues(array);\n    return Array.from(array, dec2hex).join('');\n}\nexports.generatePKCEVerifier = generatePKCEVerifier;\nasync function sha256(randomString) {\n    const encoder = new TextEncoder();\n    const encodedData = encoder.encode(randomString);\n    const hash = await crypto.subtle.digest('SHA-256', encodedData);\n    const bytes = new Uint8Array(hash);\n    return Array.from(bytes)\n        .map((c) => String.fromCharCode(c))\n        .join('');\n}\nasync function generatePKCEChallenge(verifier) {\n    const hasCryptoSupport = typeof crypto !== 'undefined' &&\n        typeof crypto.subtle !== 'undefined' &&\n        typeof TextEncoder !== 'undefined';\n    if (!hasCryptoSupport) {\n        console.warn('WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256.');\n        return verifier;\n    }\n    const hashed = await sha256(verifier);\n    return btoa(hashed).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n}\nexports.generatePKCEChallenge = generatePKCEChallenge;\nasync function getCodeChallengeAndMethod(storage, storageKey, isPasswordRecovery = false) {\n    const codeVerifier = generatePKCEVerifier();\n    let storedCodeVerifier = codeVerifier;\n    if (isPasswordRecovery) {\n        storedCodeVerifier += '/PASSWORD_RECOVERY';\n    }\n    await (0, exports.setItemAsync)(storage, `${storageKey}-code-verifier`, storedCodeVerifier);\n    const codeChallenge = await generatePKCEChallenge(codeVerifier);\n    const codeChallengeMethod = codeVerifier === codeChallenge ? 'plain' : 's256';\n    return [codeChallenge, codeChallengeMethod];\n}\nexports.getCodeChallengeAndMethod = getCodeChallengeAndMethod;\n/** Parses the API version which is 2YYY-MM-DD. */\nconst API_VERSION_REGEX = /^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;\nfunction parseResponseAPIVersion(response) {\n    const apiVersion = response.headers.get(constants_1.API_VERSION_HEADER_NAME);\n    if (!apiVersion) {\n        return null;\n    }\n    if (!apiVersion.match(API_VERSION_REGEX)) {\n        return null;\n    }\n    try {\n        const date = new Date(`${apiVersion}T00:00:00.0Z`);\n        return date;\n    }\n    catch (e) {\n        return null;\n    }\n}\nexports.parseResponseAPIVersion = parseResponseAPIVersion;\nfunction validateExp(exp) {\n    if (!exp) {\n        throw new Error('Missing exp claim');\n    }\n    const timeNow = Math.floor(Date.now() / 1000);\n    if (exp <= timeNow) {\n        throw new Error('JWT has expired');\n    }\n}\nexports.validateExp = validateExp;\nfunction getAlgorithm(alg) {\n    switch (alg) {\n        case 'RS256':\n            return {\n                name: 'RSASSA-PKCS1-v1_5',\n                hash: { name: 'SHA-256' },\n            };\n        case 'ES256':\n            return {\n                name: 'ECDSA',\n                namedCurve: 'P-256',\n                hash: { name: 'SHA-256' },\n            };\n        default:\n            throw new Error('Invalid alg claim');\n    }\n}\nexports.getAlgorithm = getAlgorithm;\nconst UUID_REGEX = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;\nfunction validateUUID(str) {\n    if (!UUID_REGEX.test(str)) {\n        throw new Error('@supabase/auth-js: Expected parameter to be UUID but is not');\n    }\n}\nexports.validateUUID = validateUUID;\n//# sourceMappingURL=helpers.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","dec2hex","dec","substr","toString","generatePKCEVerifier","array","Uint32Array","verifierLength","crypto","verifier","i","charSet","charAt","Math","floor","length","random","getRandomValues","Array","from","join","sha256","randomString","encodedData","encode","encoder","TextEncoder","hash","subtle","digest","bytes","Uint8Array","map","c","String","fromCharCode","generatePKCEChallenge","console","warn","hashed","btoa","replace","__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","validateUUID","getAlgorithm","validateExp","parseResponseAPIVersion","getCodeChallengeAndMethod","retryable","sleep","decodeJWT","Deferred","removeItemAsync","getItemAsync","setItemAsync","looksLikeFetchResponse","resolveFetch","parseParametersFromURL","supportsLocalStorage","isBrowser","uuid","expiresAt","constants_1","errors_1","base64url_1","expiresIn","round","timeNow","Date","now","r","window","document","globalThis","localStorage","e","tested","randomKey","setItem","removeItem","href","url","URL","forEach","hashSearchParams","URLSearchParams","substring","key","searchParams","customFetch","_fetch","fetch","args","Promise","resolve","then","maybeResponse","json","storage","data","JSON","stringify","getItem","parse","_a","constructor","promise","promiseConstructor","res","rej","reject","token","parts","split","AuthInvalidJwtError","BASE64URL_REGEX","test","header","stringFromBase64URL","payload","signature","base64UrlToUint8Array","raw","time","accept","setTimeout","fn","isRetryable","attempt","Infinity","storageKey","isPasswordRecovery","codeVerifier","storedCodeVerifier","codeChallenge","codeChallengeMethod","API_VERSION_REGEX","response","apiVersion","headers","API_VERSION_HEADER_NAME","match","date","exp","Error","alg","name","namedCurve","UUID_REGEX","str"]
}
