{
"version":3,
"file":"module$node_modules$$supabase$realtime_js$dist$module$RealtimeChannel.js",
"lineCount":310,
"mappings":"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",
"sources":["node_modules/@supabase/realtime-js/dist/module/RealtimeChannel.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$supabase$realtime_js$dist$module$RealtimeChannel\"] = function(global,require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, REALTIME_CHANNEL_STATES:{enumerable:true, get:function() {\n  return REALTIME_CHANNEL_STATES;\n}}, REALTIME_LISTEN_TYPES:{enumerable:true, get:function() {\n  return REALTIME_LISTEN_TYPES;\n}}, REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:{enumerable:true, get:function() {\n  return REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;\n}}, REALTIME_SUBSCRIBE_STATES:{enumerable:true, get:function() {\n  return REALTIME_SUBSCRIBE_STATES;\n}}, default:{enumerable:true, get:function() {\n  return RealtimeChannel;\n}}});\nvar require$_DOT__SLASH_lib_SLASH_constants = require(\"./lib/constants\");\nvar require$_DOT__SLASH_lib_SLASH_push = require(\"./lib/push\");\nvar require$_DOT__SLASH_lib_SLASH_timer = require(\"./lib/timer\");\nvar require$_DOT__SLASH_RealtimePresence = require(\"./RealtimePresence\");\nvar Transformers = require(\"./lib/transformers\");\nvar require$_DOT__SLASH_lib_SLASH_transformers = require(\"./lib/transformers\");\nvar default$$require$_DOT__SLASH_lib_SLASH_timer = require.esmDefault(require$_DOT__SLASH_lib_SLASH_timer);\nvar default$$require$_DOT__SLASH_RealtimePresence = require.esmDefault(require$_DOT__SLASH_RealtimePresence);\nvar default$$require$_DOT__SLASH_lib_SLASH_push = require.esmDefault(require$_DOT__SLASH_lib_SLASH_push);\nvar REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;\n(function(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT) {\n  REALTIME_POSTGRES_CHANGES_LISTEN_EVENT[\"ALL\"] = \"*\";\n  REALTIME_POSTGRES_CHANGES_LISTEN_EVENT[\"INSERT\"] = \"INSERT\";\n  REALTIME_POSTGRES_CHANGES_LISTEN_EVENT[\"UPDATE\"] = \"UPDATE\";\n  REALTIME_POSTGRES_CHANGES_LISTEN_EVENT[\"DELETE\"] = \"DELETE\";\n})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT || (REALTIME_POSTGRES_CHANGES_LISTEN_EVENT = {}));\nvar REALTIME_LISTEN_TYPES;\n(function(REALTIME_LISTEN_TYPES) {\n  REALTIME_LISTEN_TYPES[\"BROADCAST\"] = \"broadcast\";\n  REALTIME_LISTEN_TYPES[\"PRESENCE\"] = \"presence\";\n  REALTIME_LISTEN_TYPES[\"POSTGRES_CHANGES\"] = \"postgres_changes\";\n  REALTIME_LISTEN_TYPES[\"SYSTEM\"] = \"system\";\n})(REALTIME_LISTEN_TYPES || (REALTIME_LISTEN_TYPES = {}));\nvar REALTIME_SUBSCRIBE_STATES;\n(function(REALTIME_SUBSCRIBE_STATES) {\n  REALTIME_SUBSCRIBE_STATES[\"SUBSCRIBED\"] = \"SUBSCRIBED\";\n  REALTIME_SUBSCRIBE_STATES[\"TIMED_OUT\"] = \"TIMED_OUT\";\n  REALTIME_SUBSCRIBE_STATES[\"CLOSED\"] = \"CLOSED\";\n  REALTIME_SUBSCRIBE_STATES[\"CHANNEL_ERROR\"] = \"CHANNEL_ERROR\";\n})(REALTIME_SUBSCRIBE_STATES || (REALTIME_SUBSCRIBE_STATES = {}));\nconst REALTIME_CHANNEL_STATES = require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_STATES;\nclass RealtimeChannel {\n  constructor(topic, params = {config:{}}, socket) {\n    this.topic = topic;\n    this.params = params;\n    this.socket = socket;\n    this.bindings = {};\n    this.state = require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_STATES.closed;\n    this.joinedOnce = false;\n    this.pushBuffer = [];\n    this.subTopic = topic.replace(/^realtime:/i, \"\");\n    this.params.config = Object.assign({broadcast:{ack:false, self:false}, presence:{key:\"\"}, private:false,}, params.config);\n    this.timeout = this.socket.timeout;\n    this.joinPush = new default$$require$_DOT__SLASH_lib_SLASH_push.default(this, require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_EVENTS.join, this.params, this.timeout);\n    this.rejoinTimer = new default$$require$_DOT__SLASH_lib_SLASH_timer.default(() => this._rejoinUntilConnected(), this.socket.reconnectAfterMs);\n    this.joinPush.receive(\"ok\", () => {\n      this.state = require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_STATES.joined;\n      this.rejoinTimer.reset();\n      this.pushBuffer.forEach(pushEvent => pushEvent.send());\n      this.pushBuffer = [];\n    });\n    this._onClose(() => {\n      this.rejoinTimer.reset();\n      this.socket.log(\"channel\", `close ${this.topic} ${this._joinRef()}`);\n      this.state = require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_STATES.closed;\n      this.socket._remove(this);\n    });\n    this._onError(reason => {\n      if (this._isLeaving() || this._isClosed()) {\n        return;\n      }\n      this.socket.log(\"channel\", `error ${this.topic}`, reason);\n      this.state = require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_STATES.errored;\n      this.rejoinTimer.scheduleTimeout();\n    });\n    this.joinPush.receive(\"timeout\", () => {\n      if (!this._isJoining()) {\n        return;\n      }\n      this.socket.log(\"channel\", `timeout ${this.topic}`, this.joinPush.timeout);\n      this.state = require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_STATES.errored;\n      this.rejoinTimer.scheduleTimeout();\n    });\n    this._on(require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_EVENTS.reply, {}, (payload, ref) => {\n      this._trigger(this._replyEventName(ref), payload);\n    });\n    this.presence = new default$$require$_DOT__SLASH_RealtimePresence.default(this);\n    this.broadcastEndpointURL = (0,require$_DOT__SLASH_lib_SLASH_transformers.httpEndpointURL)(this.socket.endPoint) + \"/api/broadcast\";\n    this.private = this.params.config.private || false;\n  }\n  subscribe(callback, timeout = this.timeout) {\n    var _a, _b;\n    if (!this.socket.isConnected()) {\n      this.socket.connect();\n    }\n    if (this.joinedOnce) {\n      throw `tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance`;\n    } else {\n      const {config:{broadcast, presence, private:isPrivate}} = this.params;\n      this._onError(e => callback === null || callback === void 0 ? void 0 : callback(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR, e));\n      this._onClose(() => callback === null || callback === void 0 ? void 0 : callback(REALTIME_SUBSCRIBE_STATES.CLOSED));\n      const accessTokenPayload = {};\n      const config = {broadcast, presence, postgres_changes:(_b = (_a = this.bindings.postgres_changes) === null || _a === void 0 ? void 0 : _a.map(r => r.filter)) !== null && _b !== void 0 ? _b : [], private:isPrivate,};\n      if (this.socket.accessTokenValue) {\n        accessTokenPayload.access_token = this.socket.accessTokenValue;\n      }\n      this.updateJoinPayload(Object.assign({config}, accessTokenPayload));\n      this.joinedOnce = true;\n      this._rejoin(timeout);\n      this.joinPush.receive(\"ok\", async({postgres_changes}) => {\n        var _a;\n        this.socket.setAuth();\n        if (postgres_changes === undefined) {\n          callback === null || callback === void 0 ? void 0 : callback(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);\n          return;\n        } else {\n          const clientPostgresBindings = this.bindings.postgres_changes;\n          const bindingsLen = (_a = clientPostgresBindings === null || clientPostgresBindings === void 0 ? void 0 : clientPostgresBindings.length) !== null && _a !== void 0 ? _a : 0;\n          const newPostgresBindings = [];\n          for (let i = 0; i < bindingsLen; i++) {\n            const clientPostgresBinding = clientPostgresBindings[i];\n            const {filter:{event, schema, table, filter}} = clientPostgresBinding;\n            const serverPostgresFilter = postgres_changes && postgres_changes[i];\n            if (serverPostgresFilter && serverPostgresFilter.event === event && serverPostgresFilter.schema === schema && serverPostgresFilter.table === table && serverPostgresFilter.filter === filter) {\n              newPostgresBindings.push(Object.assign(Object.assign({}, clientPostgresBinding), {id:serverPostgresFilter.id}));\n            } else {\n              this.unsubscribe();\n              this.state = require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_STATES.errored;\n              callback === null || callback === void 0 ? void 0 : callback(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR, new Error(\"mismatch between server and client bindings for postgres changes\"));\n              return;\n            }\n          }\n          this.bindings.postgres_changes = newPostgresBindings;\n          callback && callback(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);\n          return;\n        }\n      }).receive(\"error\", error => {\n        this.state = require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_STATES.errored;\n        callback === null || callback === void 0 ? void 0 : callback(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR, new Error(JSON.stringify(Object.values(error).join(\", \") || \"error\")));\n        return;\n      }).receive(\"timeout\", () => {\n        callback === null || callback === void 0 ? void 0 : callback(REALTIME_SUBSCRIBE_STATES.TIMED_OUT);\n        return;\n      });\n    }\n    return this;\n  }\n  presenceState() {\n    return this.presence.state;\n  }\n  async track(payload, opts = {}) {\n    return await this.send({type:\"presence\", event:\"track\", payload,}, opts.timeout || this.timeout);\n  }\n  async untrack(opts = {}) {\n    return await this.send({type:\"presence\", event:\"untrack\",}, opts);\n  }\n  on(type, filter, callback) {\n    return this._on(type, filter, callback);\n  }\n  async send(args, opts = {}) {\n    var _a, _b;\n    if (!this._canPush() && args.type === \"broadcast\") {\n      const {event, payload:endpoint_payload} = args;\n      const authorization = this.socket.accessTokenValue ? `Bearer ${this.socket.accessTokenValue}` : \"\";\n      const options = {method:\"POST\", headers:{Authorization:authorization, apikey:this.socket.apiKey ? this.socket.apiKey : \"\", \"Content-Type\":\"application/json\",}, body:JSON.stringify({messages:[{topic:this.subTopic, event, payload:endpoint_payload, private:this.private,},],}),};\n      try {\n        const response = await this._fetchWithTimeout(this.broadcastEndpointURL, options, (_a = opts.timeout) !== null && _a !== void 0 ? _a : this.timeout);\n        await ((_b = response.body) === null || _b === void 0 ? void 0 : _b.cancel());\n        return response.ok ? \"ok\" : \"error\";\n      } catch (error) {\n        if (error.name === \"AbortError\") {\n          return \"timed out\";\n        } else {\n          return \"error\";\n        }\n      }\n    } else {\n      return new Promise(resolve => {\n        var _a, _b, _c;\n        const push = this._push(args.type, args, opts.timeout || this.timeout);\n        if (args.type === \"broadcast\" && !((_c = (_b = (_a = this.params) === null || _a === void 0 ? void 0 : _a.config) === null || _b === void 0 ? void 0 : _b.broadcast) === null || _c === void 0 ? void 0 : _c.ack)) {\n          resolve(\"ok\");\n        }\n        push.receive(\"ok\", () => resolve(\"ok\"));\n        push.receive(\"error\", () => resolve(\"error\"));\n        push.receive(\"timeout\", () => resolve(\"timed out\"));\n      });\n    }\n  }\n  updateJoinPayload(payload) {\n    this.joinPush.updatePayload(payload);\n  }\n  unsubscribe(timeout = this.timeout) {\n    this.state = require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_STATES.leaving;\n    const onClose = () => {\n      this.socket.log(\"channel\", `leave ${this.topic}`);\n      this._trigger(require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_EVENTS.close, \"leave\", this._joinRef());\n    };\n    this.joinPush.destroy();\n    return new Promise(resolve => {\n      const leavePush = new default$$require$_DOT__SLASH_lib_SLASH_push.default(this, require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_EVENTS.leave, {}, timeout);\n      leavePush.receive(\"ok\", () => {\n        onClose();\n        resolve(\"ok\");\n      }).receive(\"timeout\", () => {\n        onClose();\n        resolve(\"timed out\");\n      }).receive(\"error\", () => {\n        resolve(\"error\");\n      });\n      leavePush.send();\n      if (!this._canPush()) {\n        leavePush.trigger(\"ok\", {});\n      }\n    });\n  }\n  teardown() {\n    this.pushBuffer.forEach(push => push.destroy());\n    this.rejoinTimer && clearTimeout(this.rejoinTimer.timer);\n    this.joinPush.destroy();\n  }\n  async _fetchWithTimeout(url, options, timeout) {\n    const controller = new AbortController();\n    const id = setTimeout(() => controller.abort(), timeout);\n    const response = await this.socket.fetch(url, Object.assign(Object.assign({}, options), {signal:controller.signal}));\n    clearTimeout(id);\n    return response;\n  }\n  _push(event, payload, timeout = this.timeout) {\n    if (!this.joinedOnce) {\n      throw `tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;\n    }\n    let pushEvent = new default$$require$_DOT__SLASH_lib_SLASH_push.default(this, event, payload, timeout);\n    if (this._canPush()) {\n      pushEvent.send();\n    } else {\n      pushEvent.startTimeout();\n      this.pushBuffer.push(pushEvent);\n    }\n    return pushEvent;\n  }\n  _onMessage(_event, payload, _ref) {\n    return payload;\n  }\n  _isMember(topic) {\n    return this.topic === topic;\n  }\n  _joinRef() {\n    return this.joinPush.ref;\n  }\n  _trigger(type, payload, ref) {\n    var _a, _b;\n    const typeLower = type.toLocaleLowerCase();\n    const {close, error, leave, join} = require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_EVENTS;\n    const events = [close, error, leave, join];\n    if (ref && events.indexOf(typeLower) >= 0 && ref !== this._joinRef()) {\n      return;\n    }\n    let handledPayload = this._onMessage(typeLower, payload, ref);\n    if (payload && !handledPayload) {\n      throw \"channel onMessage callbacks must return the payload, modified or unmodified\";\n    }\n    if ([\"insert\", \"update\", \"delete\"].includes(typeLower)) {\n      (_a = this.bindings.postgres_changes) === null || _a === void 0 ? void 0 : _a.filter(bind => {\n        var _a, _b, _c;\n        return ((_a = bind.filter) === null || _a === void 0 ? void 0 : _a.event) === \"*\" || ((_c = (_b = bind.filter) === null || _b === void 0 ? void 0 : _b.event) === null || _c === void 0 ? void 0 : _c.toLocaleLowerCase()) === typeLower;\n      }).map(bind => bind.callback(handledPayload, ref));\n    } else {\n      (_b = this.bindings[typeLower]) === null || _b === void 0 ? void 0 : _b.filter(bind => {\n        var _a, _b, _c, _d, _e, _f;\n        if ([\"broadcast\", \"presence\", \"postgres_changes\"].includes(typeLower)) {\n          if (\"id\" in bind) {\n            const bindId = bind.id;\n            const bindEvent = (_a = bind.filter) === null || _a === void 0 ? void 0 : _a.event;\n            return bindId && ((_b = payload.ids) === null || _b === void 0 ? void 0 : _b.includes(bindId)) && (bindEvent === \"*\" || (bindEvent === null || bindEvent === void 0 ? void 0 : bindEvent.toLocaleLowerCase()) === ((_c = payload.data) === null || _c === void 0 ? void 0 : _c.type.toLocaleLowerCase()));\n          } else {\n            const bindEvent = (_e = (_d = bind === null || bind === void 0 ? void 0 : bind.filter) === null || _d === void 0 ? void 0 : _d.event) === null || _e === void 0 ? void 0 : _e.toLocaleLowerCase();\n            return bindEvent === \"*\" || bindEvent === ((_f = payload === null || payload === void 0 ? void 0 : payload.event) === null || _f === void 0 ? void 0 : _f.toLocaleLowerCase());\n          }\n        } else {\n          return bind.type.toLocaleLowerCase() === typeLower;\n        }\n      }).map(bind => {\n        if (typeof handledPayload === \"object\" && \"ids\" in handledPayload) {\n          const postgresChanges = handledPayload.data;\n          const {schema, table, commit_timestamp, type, errors} = postgresChanges;\n          const enrichedPayload = {schema:schema, table:table, commit_timestamp:commit_timestamp, eventType:type, new:{}, old:{}, errors:errors,};\n          handledPayload = Object.assign(Object.assign({}, enrichedPayload), this._getPayloadRecords(postgresChanges));\n        }\n        bind.callback(handledPayload, ref);\n      });\n    }\n  }\n  _isClosed() {\n    return this.state === require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_STATES.closed;\n  }\n  _isJoined() {\n    return this.state === require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_STATES.joined;\n  }\n  _isJoining() {\n    return this.state === require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_STATES.joining;\n  }\n  _isLeaving() {\n    return this.state === require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_STATES.leaving;\n  }\n  _replyEventName(ref) {\n    return `chan_reply_${ref}`;\n  }\n  _on(type, filter, callback) {\n    const typeLower = type.toLocaleLowerCase();\n    const binding = {type:typeLower, filter:filter, callback:callback,};\n    if (this.bindings[typeLower]) {\n      this.bindings[typeLower].push(binding);\n    } else {\n      this.bindings[typeLower] = [binding];\n    }\n    return this;\n  }\n  _off(type, filter) {\n    const typeLower = type.toLocaleLowerCase();\n    this.bindings[typeLower] = this.bindings[typeLower].filter(bind => {\n      var _a;\n      return !(((_a = bind.type) === null || _a === void 0 ? void 0 : _a.toLocaleLowerCase()) === typeLower && RealtimeChannel.isEqual(bind.filter, filter));\n    });\n    return this;\n  }\n  static isEqual(obj1, obj2) {\n    if (Object.keys(obj1).length !== Object.keys(obj2).length) {\n      return false;\n    }\n    for (const k in obj1) {\n      if (obj1[k] !== obj2[k]) {\n        return false;\n      }\n    }\n    return true;\n  }\n  _rejoinUntilConnected() {\n    this.rejoinTimer.scheduleTimeout();\n    if (this.socket.isConnected()) {\n      this._rejoin();\n    }\n  }\n  _onClose(callback) {\n    this._on(require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_EVENTS.close, {}, callback);\n  }\n  _onError(callback) {\n    this._on(require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_EVENTS.error, {}, reason => callback(reason));\n  }\n  _canPush() {\n    return this.socket.isConnected() && this._isJoined();\n  }\n  _rejoin(timeout = this.timeout) {\n    if (this._isLeaving()) {\n      return;\n    }\n    this.socket._leaveOpenTopic(this.topic);\n    this.state = require$_DOT__SLASH_lib_SLASH_constants.CHANNEL_STATES.joining;\n    this.joinPush.resend(timeout);\n  }\n  _getPayloadRecords(payload) {\n    const records = {new:{}, old:{},};\n    if (payload.type === \"INSERT\" || payload.type === \"UPDATE\") {\n      records.new = Transformers.convertChangeData(payload.columns, payload.record);\n    }\n    if (payload.type === \"UPDATE\" || payload.type === \"DELETE\") {\n      records.old = Transformers.convertChangeData(payload.columns, payload.old_record);\n    }\n    return records;\n  }\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperties","__esModule","enumerable","value","REALTIME_CHANNEL_STATES","get","REALTIME_LISTEN_TYPES","REALTIME_POSTGRES_CHANGES_LISTEN_EVENT","REALTIME_SUBSCRIBE_STATES","default","RealtimeChannel","require$_DOT__SLASH_lib_SLASH_constants","require$_DOT__SLASH_lib_SLASH_push","require$_DOT__SLASH_lib_SLASH_timer","require$_DOT__SLASH_RealtimePresence","Transformers","require$_DOT__SLASH_lib_SLASH_transformers","default$$require$_DOT__SLASH_lib_SLASH_timer","esmDefault","default$$require$_DOT__SLASH_RealtimePresence","default$$require$_DOT__SLASH_lib_SLASH_push","CHANNEL_STATES","constructor","topic","params","config","socket","bindings","state","closed","joinedOnce","pushBuffer","subTopic","replace","assign","broadcast","ack","self","presence","key","private","timeout","joinPush","CHANNEL_EVENTS","join","rejoinTimer","_rejoinUntilConnected","reconnectAfterMs","receive","joined","reset","forEach","pushEvent","send","_onClose","log","_joinRef","_remove","_onError","reason","_isLeaving","_isClosed","errored","scheduleTimeout","_isJoining","_on","reply","payload","ref","_trigger","_replyEventName","broadcastEndpointURL","httpEndpointURL","endPoint","subscribe","callback","_a","_b","isConnected","connect","isPrivate","e","CHANNEL_ERROR","CLOSED","accessTokenPayload","postgres_changes","map","r","filter","accessTokenValue","access_token","updateJoinPayload","_rejoin","setAuth","undefined","SUBSCRIBED","clientPostgresBindings","bindingsLen","length","newPostgresBindings","i","clientPostgresBinding","event","schema","table","serverPostgresFilter","push","id","unsubscribe","Error","error","JSON","stringify","values","TIMED_OUT","presenceState","track","opts","type","untrack","on","args","_canPush","Promise","resolve","_c","_push","endpoint_payload","options","method","headers","Authorization","authorization","apikey","apiKey","body","messages","response","_fetchWithTimeout","cancel","ok","name","updatePayload","leaving","onClose","close","destroy","leavePush","leave","trigger","teardown","clearTimeout","timer","url","controller","AbortController","setTimeout","abort","fetch","signal","startTimeout","_onMessage","_event","_ref","_isMember","typeLower","toLocaleLowerCase","events","indexOf","handledPayload","includes","bind","_e","_f","bindId","bindEvent","ids","data","_d","postgresChanges","commit_timestamp","errors","enrichedPayload","eventType","new","old","_getPayloadRecords","_isJoined","joining","binding","_off","isEqual","obj1","obj2","keys","k","_leaveOpenTopic","resend","records","convertChangeData","columns","record","old_record"]
}
